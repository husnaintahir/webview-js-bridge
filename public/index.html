<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  <title>Dummy App</title>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>





  <script>


    function setupWebViewJavascriptBridge(callback) {
      if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }
      if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }
      window.WVJBCallbacks = [callback];
      var WVJBIframe = document.createElement('iframe');
      WVJBIframe.style.display = 'none';
      WVJBIframe.src = 'https://__bridge_loaded__';
      document.documentElement.appendChild(WVJBIframe);
      setTimeout(function () { document.documentElement.removeChild(WVJBIframe) }, 0)
    }

    $(document).ready(function () {

      // setupWebViewJavascriptBridge(function (bridge) {

      //   /* Initialize your app here */

      //   bridge.registerHandler('JS Echo', function (data, responseCallback) {
      //     console.log("JS Echo called with:", data)
      //     responseCallback(data)
      //   })
      //   bridge.callHandler('ObjC Echo', { 'key': 'value' }, function responseCallback(responseData) {
      //     console.log("JS received response:", responseData)
      //   })
      // })




      setupWebViewJavascriptBridge(function (bridge) {

        // const discoverPrinters = function () {

        //   console.log("object")
        //   bridge.callHandler('discoverPrinters', { "vendor": $('#vendor').val() },
        //     function responseCallback(responseData) {
        //       alert("Hello World")
        //     });

        // }


        $('#discoverPrinterBtn').click(function () {

          bridge.callHandler('discoverPrinters', { "vendor": $('#vendor').val() },
            function responseCallback(responseData) {
              alert("Hello World")
            });

        });

        // $('#discoverPrinterBtn').on('click', discoverPrinters);

      });

    });


  </script>


</body>

</html>